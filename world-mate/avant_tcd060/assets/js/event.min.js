!function(n){var i=document.getElementById("js-calendar"),s=document.getElementById("js-event-list"),r=parseInt(i.dataset.term,10),e=event_ajax.ajax_loader_path,c=document.createElement("img");c.className="p-event-list__loader",c.alt="Loading...",c.src=e,i.addEventListener("click",function(e){if("BUTTON"===e.target.tagName&&e.target.parentNode.classList.contains("p-calendar__item")&&!e.target.parentNode.classList.contains("is-active")){var t=document.getElementById("js-pager");t&&(t.style.display="none");var a=i.getElementsByClassName("is-active");a.length&&a[0].classList.remove("is-active"),e.target.parentNode.classList.add("is-active"),s.style.height=s.clientHeight+"px",s.innerHTML="",s.appendChild(c),n.ajax({url:event_ajax.url,type:"POST",data:{action:event_ajax.action,security:event_ajax.nonce,date:e.target.dataset.date,term_id:r,is_front_page:event_ajax.is_front_page}}).done(function(e){var t=document.getElementById("js-index-event__btn");t&&(e.moreURL?(t.children[0].href=e.moreURL,t.classList.add("is-active")):t.classList.remove("is-active")),s.style.height="",s.innerHTML=e.html,n(".p-event-list__item").on("inview",function(){n(this).addClass("is-inview")})}).fail(function(){s.innerHTML="<p>"+event_ajax.error_message+"</p>"})}})}(jQuery);